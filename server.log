nohup: les entr√©es sont ignor√©es

> better-api@1.0.0 dev
> prisma generate && ts-node-dev --respawn --transpile-only src/index.ts

warn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).
For more information, see: https://pris.ly/prisma-config

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

‚úî Generated Prisma Client (v6.16.2) to ./node_modules/@prisma/client in 169ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Need your database queries to be 1000x faster? Accelerate offers you that and more: https://pris.ly/tip-2-accelerate

[INFO] 21:50:44 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.9.3)
info: üöÄ Starting Better API Server... {"service":"user-service"}
info: üìÅ Environment: development {"service":"user-service"}
info: üîß Configuration loaded: PORT=5000, CORS=* {"service":"user-service"}
info: Initializing service container... {"service":"user-service"}
info: Repositories initialized {"service":"user-service"}
info: UserService initialized {"service":"user-service"}
info: Services initialized {"service":"user-service"}
info: Service container initialized successfully {"service":"user-service"}
info: Socket.io server initialized on path /ws {"service":"user-service"}
info: ‚úÖ WebSocket service initialized {"service":"user-service"}
info: ‚úÖ Cron Service initialized {"service":"user-service"}
info: üîå Attempting to connect to the database... {"service":"user-service"}
info: ‚úÖ SMTP connection verified successfully {"service":"user-service"}
info: ‚úÖ SMTP connection verified successfully {"service":"user-service"}
info: ‚úÖ Successfully connected to the database {"service":"user-service"}
info: üìä Database connection test successful. User count: 23 {"service":"user-service"}
info: üéâ Server is running on port 5000 {"service":"user-service"}
info: üîí Trust proxy: 1 {"service":"user-service"}
info: üåê CORS Origin: * {"service":"user-service"}
info: üåç Public API URL: http://localhost:5000/api {"service":"user-service"}
info: üõ°Ô∏è  Security: ENABLED (Helmet + Custom Headers) {"service":"user-service"}
info: üì° WebSocket available at: ws://localhost:5000/ws {"service":"user-service"}
info: üì° Ready to accept connections! {"service":"user-service"}
info: ============================================================ {"service":"user-service"}
info: Audit log created: USER_REGISTER - SUCCESS {"service":"user-service"}
info: üìß [EMAIL VERIFICATION] D√©but pour test-bets-1766267468868@example.com (cmjeu1qx20001qajfdhpzllm1) {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Utilisateur trouv√©: test-bets-1766267468868@example.com {"service":"user-service"}
info: üîê [CREATE VERIFICATION] D√©but pour test-bets-1766267468868@example.com {"service":"user-service"}
info: üìù [CREATE VERIFICATION] Code g√©n√©r√© pour test-bets-1766267468868@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] OTP cr√©√©: cmjeu1tem0005qajfsd6asf0i {"service":"user-service"}
info: üìß [EMAIL OTP] Pour test-bets-1766267468868@example.com: 106147 {"service":"user-service"}
info: üìß [DEV EMAIL] Destinataire: test-bets-1766267468868@example.com, Sujet: "V√©rification de votre adresse email - Xbeur" {"service":"user-service"}
info: ‚úÖ Email envoy√© √† test-bets-1766267468868@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] Termin√© pour test-bets-1766267468868@example.com {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Email envoy√© avec succ√®s √† test-bets-1766267468868@example.com {"service":"user-service"}
üîç Device Info: { ip: '127.0.0.1', userAgent: 'axios/1.13.2', deviceType: 'UNKNOWN' }
info: ‚úÖ Inscription r√©ussie: test-bets-1766267468868@example.com (cmjeu1qx20001qajfdhpzllm1) {"ip":"127.0.0.1","service":"user-service","userId":"cmjeu1qx20001qajfdhpzllm1"}
info: Audit log created: USER_LOGIN - SUCCESS {"service":"user-service"}
info: ‚úÖ Connexion r√©ussie: test-bets-1766267468868@example.com (cmjeu1qx20001qajfdhpzllm1) {"deviceType":"DESKTOP","ip":"::1","service":"user-service","userId":"cmjeu1qx20001qajfdhpzllm1"}
warn: ‚ö†Ô∏è Route non trouv√©e {"ip":"::1","method":"GET","path":"/api/bets/my-bets","service":"user-service"}
warn: ‚ö†Ô∏è AuthenticationError Token invalide {"code":"AUTHENTICATION_ERROR","details":{"reason":"INVALID_TOKEN"},"ip":"::1","method":"GET","path":"/api/notifications/unread-count","service":"user-service"}
info: Audit log created: USER_REGISTER - SUCCESS {"service":"user-service"}
info: üìß [EMAIL VERIFICATION] D√©but pour test-bets-1766267560619@example.com (cmjeu3onz000eqajfl4i4p286) {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Utilisateur trouv√©: test-bets-1766267560619@example.com {"service":"user-service"}
info: üîê [CREATE VERIFICATION] D√©but pour test-bets-1766267560619@example.com {"service":"user-service"}
info: üìù [CREATE VERIFICATION] Code g√©n√©r√© pour test-bets-1766267560619@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] OTP cr√©√©: cmjeu3plb000iqajfo1d2uogc {"service":"user-service"}
info: üìß [EMAIL OTP] Pour test-bets-1766267560619@example.com: 554915 {"service":"user-service"}
info: üìß [DEV EMAIL] Destinataire: test-bets-1766267560619@example.com, Sujet: "V√©rification de votre adresse email - Xbeur" {"service":"user-service"}
info: ‚úÖ Email envoy√© √† test-bets-1766267560619@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] Termin√© pour test-bets-1766267560619@example.com {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Email envoy√© avec succ√®s √† test-bets-1766267560619@example.com {"service":"user-service"}
üîç Device Info: { ip: '127.0.0.1', userAgent: 'axios/1.13.2', deviceType: 'UNKNOWN' }
info: ‚úÖ Inscription r√©ussie: test-bets-1766267560619@example.com (cmjeu3onz000eqajfl4i4p286) {"ip":"127.0.0.1","service":"user-service","userId":"cmjeu3onz000eqajfl4i4p286"}
info: Audit log created: USER_LOGIN - SUCCESS {"service":"user-service"}
info: ‚úÖ Connexion r√©ussie: test-bets-1766267560619@example.com (cmjeu3onz000eqajfl4i4p286) {"deviceType":"DESKTOP","ip":"::1","service":"user-service","userId":"cmjeu3onz000eqajfl4i4p286"}
warn: ‚ö†Ô∏è AuthenticationError Token invalide {"code":"AUTHENTICATION_ERROR","details":{"reason":"INVALID_TOKEN"},"ip":"::1","method":"GET","path":"/api/bet/my-bets","service":"user-service"}
warn: ‚ö†Ô∏è AuthenticationError Token invalide {"code":"AUTHENTICATION_ERROR","details":{"reason":"INVALID_TOKEN"},"ip":"::1","method":"GET","path":"/api/notifications/unread-count","service":"user-service"}
info: Audit log created: USER_REGISTER - SUCCESS {"service":"user-service"}
info: üìß [EMAIL VERIFICATION] D√©but pour test-bets-1766267604638@example.com (cmjeu4n4o000rqajfnscrcra4) {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Utilisateur trouv√©: test-bets-1766267604638@example.com {"service":"user-service"}
info: üîê [CREATE VERIFICATION] D√©but pour test-bets-1766267604638@example.com {"service":"user-service"}
info: üìù [CREATE VERIFICATION] Code g√©n√©r√© pour test-bets-1766267604638@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] OTP cr√©√©: cmjeu4py3000vqajf17d7260f {"service":"user-service"}
info: üìß [EMAIL OTP] Pour test-bets-1766267604638@example.com: 125951 {"service":"user-service"}
info: üìß [DEV EMAIL] Destinataire: test-bets-1766267604638@example.com, Sujet: "V√©rification de votre adresse email - Xbeur" {"service":"user-service"}
info: ‚úÖ Email envoy√© √† test-bets-1766267604638@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] Termin√© pour test-bets-1766267604638@example.com {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Email envoy√© avec succ√®s √† test-bets-1766267604638@example.com {"service":"user-service"}
üîç Device Info: { ip: '127.0.0.1', userAgent: 'axios/1.13.2', deviceType: 'UNKNOWN' }
info: ‚úÖ Inscription r√©ussie: test-bets-1766267604638@example.com (cmjeu4n4o000rqajfnscrcra4) {"ip":"127.0.0.1","service":"user-service","userId":"cmjeu4n4o000rqajfnscrcra4"}
info: Audit log created: USER_LOGIN - SUCCESS {"service":"user-service"}
info: ‚úÖ Connexion r√©ussie: test-bets-1766267604638@example.com (cmjeu4n4o000rqajfnscrcra4) {"deviceType":"DESKTOP","ip":"::1","service":"user-service","userId":"cmjeu4n4o000rqajfnscrcra4"}
warn: ‚ö†Ô∏è AuthenticationError Token invalide {"code":"AUTHENTICATION_ERROR","details":{"reason":"INVALID_TOKEN"},"ip":"::1","method":"GET","path":"/api/bet/my-bets","service":"user-service"}
warn: ‚ö†Ô∏è AuthenticationError Token invalide {"code":"AUTHENTICATION_ERROR","details":{"reason":"INVALID_TOKEN"},"ip":"::1","method":"GET","path":"/api/notifications/unread-count","service":"user-service"}
info: Audit log created: USER_REGISTER - SUCCESS {"service":"user-service"}
info: üìß [EMAIL VERIFICATION] D√©but pour test-bets-1766267646822@example.com (cmjeu5j2o0014qajfzkr5siky) {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Utilisateur trouv√©: test-bets-1766267646822@example.com {"service":"user-service"}
info: üîê [CREATE VERIFICATION] D√©but pour test-bets-1766267646822@example.com {"service":"user-service"}
info: üìù [CREATE VERIFICATION] Code g√©n√©r√© pour test-bets-1766267646822@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] OTP cr√©√©: cmjeu5ken0018qajfc63ohhtr {"service":"user-service"}
info: üìß [EMAIL OTP] Pour test-bets-1766267646822@example.com: 588413 {"service":"user-service"}
info: üìß [DEV EMAIL] Destinataire: test-bets-1766267646822@example.com, Sujet: "V√©rification de votre adresse email - Xbeur" {"service":"user-service"}
info: ‚úÖ Email envoy√© √† test-bets-1766267646822@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] Termin√© pour test-bets-1766267646822@example.com {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Email envoy√© avec succ√®s √† test-bets-1766267646822@example.com {"service":"user-service"}
üîç Device Info: { ip: '127.0.0.1', userAgent: 'axios/1.13.2', deviceType: 'UNKNOWN' }
info: ‚úÖ Inscription r√©ussie: test-bets-1766267646822@example.com (cmjeu5j2o0014qajfzkr5siky) {"ip":"127.0.0.1","service":"user-service","userId":"cmjeu5j2o0014qajfzkr5siky"}
info: Audit log created: USER_REGISTER - SUCCESS {"service":"user-service"}
info: üìß [EMAIL VERIFICATION] D√©but pour test-bets-1766267678909@example.com (cmjeu67wd001cqajfoj0udaff) {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Utilisateur trouv√©: test-bets-1766267678909@example.com {"service":"user-service"}
info: üîê [CREATE VERIFICATION] D√©but pour test-bets-1766267678909@example.com {"service":"user-service"}
info: üìù [CREATE VERIFICATION] Code g√©n√©r√© pour test-bets-1766267678909@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] OTP cr√©√©: cmjeu695v001gqajfw2jkivus {"service":"user-service"}
info: üìß [EMAIL OTP] Pour test-bets-1766267678909@example.com: 183678 {"service":"user-service"}
info: üìß [DEV EMAIL] Destinataire: test-bets-1766267678909@example.com, Sujet: "V√©rification de votre adresse email - Xbeur" {"service":"user-service"}
info: ‚úÖ Email envoy√© √† test-bets-1766267678909@example.com {"service":"user-service"}
info: ‚úÖ [CREATE VERIFICATION] Termin√© pour test-bets-1766267678909@example.com {"service":"user-service"}
info: ‚úÖ [EMAIL VERIFICATION] Email envoy√© avec succ√®s √† test-bets-1766267678909@example.com {"service":"user-service"}
üîç Device Info: { ip: '127.0.0.1', userAgent: 'axios/1.13.2', deviceType: 'UNKNOWN' }
info: ‚úÖ Inscription r√©ussie: test-bets-1766267678909@example.com (cmjeu67wd001cqajfoj0udaff) {"ip":"127.0.0.1","service":"user-service","userId":"cmjeu67wd001cqajfoj0udaff"}
info: Audit log created: USER_LOGIN - SUCCESS {"service":"user-service"}
info: ‚úÖ Connexion r√©ussie: test-bets-1766267678909@example.com (cmjeu67wd001cqajfoj0udaff) {"deviceType":"DESKTOP","ip":"::1","service":"user-service","userId":"cmjeu67wd001cqajfoj0udaff"}
